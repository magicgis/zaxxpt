<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="golfImgApi">
	<typeAlias alias="golfImgVo" type="com.hnatourism.club.golf.prod.vo.GolfImageVo" />
	<resultMap id="api_golfImgResultMap" class="golfImgVo">
		<result column="ID" property="id" />
		<result column="GOLF_ID" property="golfId" />
		<result column="PATH" property="path" />
		<result column="TYPE" property="type" />
		<result column="STS" property="sts" />
		<result column="SEQ" property="seq" />
		<result column="CREATE_USER" property="createUser" />
		<result column="CREATE_TIME" property="createTime" />
		<result column="UPDATE_USER" property="updateUser" />
		<result column="UPDATE_TIME" property="updateTime" />
	</resultMap>
	<resultMap id="api_golfImageResultMap_image" class="golfImgVo">
		<result column="PATH" property="path" />
	</resultMap>
	<sql id="api_selectGolfImgSql">
		<![CDATA[
			SELECT T.RMK,T.ID,T.GOLF_ID,T.PATH,T.TYPE,T.STS,T.SEQ,T.CREATE_USER,T.CREATE_TIME,T.UPDATE_USER,T.UPDATE_TIME 
			FROM GOLF_IMG T
		]]>
	</sql>
	<sql id="api_selectGolfImageSql_image">
		<![CDATA[
			SELECT T.PATH
			FROM GOLF_IMG T
		]]>
	</sql>
	<select id="api_findGolfImgByWhere" parameterClass="golfImgVo" resultMap="api_golfImgResultMap">
		<include refid="api_selectGolfImgSql"/>	
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="golfId">
				T.GOLF_ID=#golfId#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="path">
				T.PATH=#path#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="type">
				T.TYPE=#type#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="sts">
				T.STS=#sts#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="seq">
				T.SEQ=#seq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="createUser">
				T.CREATE_USER=#createUser#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="createTime">
				T.CREATE_TIME=#createTime#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="updateUser">
				T.UPDATE_USER=#updateUser#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="updateTime">
				T.UPDATE_TIME=#updateTime#
			</isNotEmpty>
		</dynamic>
	</select>
	<select id="api_findGolfListImg" parameterClass="java.lang.String" resultMap="api_golfImgResultMap">
		<include refid="api_selectGolfImgSql"/>	
		<![CDATA[
			WHERE T.GOLF_ID=#id# AND T.TYPE=1 AND T.STS=1
		]]>
	</select>
	<select id="api_findGolfImg" parameterClass="java.lang.String" resultMap="api_golfImgResultMap">
		<include refid="api_selectGolfImgSql"/>	
		<![CDATA[
			WHERE T.GOLF_ID=#id# AND T.TYPE=0 AND T.STS=1
		]]>
	</select>
	
	<select id="api_findGolfImageByGolf_image" parameterClass="java.lang.String" resultMap="api_golfImageResultMap_image">
		<include refid="api_selectGolfImageSql_image"/>	
		<![CDATA[
			WHERE T.GOLF_ID=#golfId# AND T.STS=1
		]]>
	</select>
</sqlMap>