<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="golfOrderExcepApi">
	<typeAlias alias="golfOrderExcepVo" type="com.hnatourism.club.golf.order.vo.GolfOrderExceptionVo"/>
	<resultMap id="api_golfOrderExcepResultMap" class="golfOrderExcepVo">
		<result column="ID" property="id" />
		<result column="ORDER_ID" property="orderId" />
		<result column="STS" property="sts" />
		<result column="TYPE" property="type" />
		<result column="FEE_RATE" property="feeRate" />
		<result column="FEE" property="fee" />
		<result column="PRICE" property="price" />
		<result column="RMK" property="rmk" />
		<result column="PAY_STS" property="paySts" />
		<result column="CODE" property="code" />
		<result column="CONSUMER_STS" property="consumerSts" />
		<result column="OPERATE_STS" property="operateSts" />
		<result column="CREATE_USER" property="createUser" />
		<result column="CREATE_TIME" property="createTime" />
		<result column="UPDATE_USER" property="updateUser" />
		<result column="UPDATE_TIME" property="updateTime" />
		<result column="ID" property="golfOrderPlayVoList" select="api_findOrderGlofPlayerById"/>
		<result column="BOOK_TIME" property="bookTime" />
		<result column="CONFIRM_TIME" property="confirmTime" />
	</resultMap>
	<sql id="api_selectGolfOrderExcepSql">
		<![CDATA[
			SELECT T.CONFIRM_TIME,T.BOOK_TIME,T.CODE,T.ID,T.ORDER_ID,T.STS,T.TYPE,T.FEE_RATE,T.FEE,T.PRICE,T.RMK,T.PAY_STS,T.CONSUMER_STS,T.OPERATE_STS,T.CREATE_USER,T.CREATE_TIME,T.UPDATE_USER,T.UPDATE_TIME 
			FROM ORDER_GOLF_EXCEPTION T
		]]>
	</sql>
	
	<parameterMap class="java.util.HashMap" id="findGolfOrderExcepByOrderParameterMap">   
		<parameter   property="orderId" />
    </parameterMap>
    
	<select id="api_findGolfOrderExcepByOrder" parameterMap="findGolfOrderExcepByOrderParameterMap" resultMap="api_golfOrderExcepResultMap">
		<include refid="api_selectGolfOrderExcepSql"/>	
		<![CDATA[
			WHERE T.ORDER_ID =?  ORDER BY CREATE_TIME DESC
		]]>
	</select>
	
	<select id="api_findGolfOrderExcep" parameterClass="java.lang.String" resultMap="api_golfOrderExcepResultMap">
		<include refid="api_selectGolfOrderExcepSql"/>	
		<![CDATA[
			WHERE T.ORDER_ID =#orderId#  ORDER BY CREATE_TIME DESC
		]]>
	</select>
	
	<select id="api_findGolfOrderExcepById" parameterClass="java.util.HashMap" resultMap="api_golfOrderExcepResultMap">
		<include refid="api_selectGolfOrderExcepSql"/>	
		<![CDATA[
			WHERE T.ID =#id#  ORDER BY CREATE_TIME DESC
		]]>
	</select>
	
	
	<parameterMap class="java.util.HashMap" id="insertParameterMap">   
        <parameter   property="paySts" />
		<parameter   property="consumerSts" />
		<parameter   property="operateSts" />
		<parameter  property="id" />
		<parameter   property="orderId" />
		<parameter   property="sts" />
		<parameter   property="type" />
		<parameter   property="feeRate" />
		<parameter   property="fee" />
		<parameter   property="price" />
		<parameter   property="rmk" />
		<parameter   property="createUser" />
		<parameter   property="createTime" />
		<parameter   property="updateUser" />
		<parameter   property="updateTime" />
		<parameter   property="code" />
		<parameter   property="bookTime" />
		<parameter   property="confirmTime" />
    </parameterMap>
	<insert id="api_saveGolfOrderException" parameterMap="insertParameterMap">
		INSERT INTO ORDER_GOLF_EXCEPTION
		<dynamic prepend="(">
			<isNotEmpty prepend="," property="paySts">
				PAY_STS
			</isNotEmpty>
			
			<isNotEmpty prepend="," property="consumerSts">
				CONSUMER_STS
			</isNotEmpty>

			<isNotEmpty prepend="," property="operateSts">
				OPERATE_STS
			</isNotEmpty>

			<isNotEmpty prepend="," property="id">
				ID
			</isNotEmpty>

			<isNotEmpty prepend="," property="orderId">
				ORDER_ID
			</isNotEmpty>

			<isNotEmpty prepend="," property="sts">
				STS
			</isNotEmpty>

			<isNotEmpty prepend="," property="type">
				TYPE
			</isNotEmpty>

			<isNotEmpty prepend="," property="feeRate">
				FEE_RATE
			</isNotEmpty>

			<isNotEmpty prepend="," property="fee">
				FEE
			</isNotEmpty>

			<isNotEmpty prepend="," property="price">
				PRICE
			</isNotEmpty>

			<isNotEmpty prepend="," property="rmk">
				RMK
			</isNotEmpty>

			<isNotEmpty prepend="," property="createUser">
				CREATE_USER
			</isNotEmpty>

			<isNotEmpty prepend="," property="createTime">
				CREATE_TIME
			</isNotEmpty>

			<isNotEmpty prepend="," property="updateUser">
				UPDATE_USER
			</isNotEmpty>

			<isNotEmpty prepend="," property="updateTime">
				UPDATE_TIME
			</isNotEmpty>
			
			<isNotEmpty prepend="," property="code">
				CODE
			</isNotEmpty>
			<isNotEmpty prepend="," property="bookTime">
				BOOK_TIME
			</isNotEmpty>
			<isNotEmpty prepend="," property="confirmTime">
				CONFIRM_TIME
			</isNotEmpty>
		</dynamic>		
		<dynamic prepend=") VALUES (">
			<isNotEmpty prepend="," property="paySts">
				#paySts#
			</isNotEmpty>
			
			
			<isNotEmpty prepend="," property="consumerSts">
				#consumerSts#
			</isNotEmpty>


			<isNotEmpty prepend="," property="operateSts">
				#operateSts#
			</isNotEmpty>


			<isNotEmpty prepend="," property="id">
				#id#
			</isNotEmpty>


			<isNotEmpty prepend="," property="orderId">
				#orderId#
			</isNotEmpty>


			<isNotEmpty prepend="," property="sts">
				#sts#
			</isNotEmpty>


			<isNotEmpty prepend="," property="type">
				#type#
			</isNotEmpty>


			<isNotEmpty prepend="," property="feeRate">
				#feeRate#
			</isNotEmpty>


			<isNotEmpty prepend="," property="fee">
				#fee#
			</isNotEmpty>


			<isNotEmpty prepend="," property="price">
				#price#
			</isNotEmpty>


			<isNotEmpty prepend="," property="rmk">
				#rmk#
			</isNotEmpty>


			<isNotEmpty prepend="," property="createUser">
				#createUser#
			</isNotEmpty>


			<isNotEmpty prepend="," property="createTime">
				#createTime#
			</isNotEmpty>


			<isNotEmpty prepend="," property="updateUser">
				#updateUser#
			</isNotEmpty>


			<isNotEmpty prepend="," property="updateTime">
				#updateTime#
			</isNotEmpty>
			
			<isNotEmpty prepend="," property="code">
				#code#
			</isNotEmpty>
			<isNotEmpty prepend="," property="bookTime">
				#bookTime#
			</isNotEmpty>
			<isNotEmpty prepend="," property="confirmTime">
				#confirmTime#
			</isNotEmpty>
		 </dynamic>	)
	</insert>
</sqlMap>