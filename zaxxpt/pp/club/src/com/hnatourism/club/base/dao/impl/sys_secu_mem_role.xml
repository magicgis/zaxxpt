<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="sysSecuMemRole">
	<typeAlias alias="sysSecuMemRole" type="com.hnatourism.club.base.domain.SysSecuMemRole" />
	<resultMap id="sysSecuMemRoleResultMap" class="sysSecuMemRole">
		<result column="ID" property="id" />
		<result column="MEMBER_ID" property="memberId" />
		<result column="ROLE_CODE" property="roleCode" />
	</resultMap>
	<sql id="selectSysSecuMemRoleSql">
		<![CDATA[
			SELECT T.ID,T.MEMBER_ID,T.ROLE_CODE 
			FROM SYS_SECU_MEM_ROLE@b2c_link T
		]]>
	</sql>
	<select id="findSysSecuMemRoleByWhere" parameterClass="sysSecuMemRole" resultMap="sysSecuMemRoleResultMap">
		<include refid="selectSysSecuMemRoleSql"/>	
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="memberId">
				T.MEMBER_ID=#memberId#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="roleCode">
				T.ROLE_CODE=#roleCode#
			</isNotEmpty>
		</dynamic>
	</select>
	<select id="findSysSecuMemRoleById" parameterClass="java.lang.String" resultMap="sysSecuMemRoleResultMap">
		<include refid="selectSysSecuMemRoleSql"/>	
		<![CDATA[
			WHERE T.ID=#id#
		]]>
	</select>
	<insert id="insertSysSecuMemRole" parameterClass="sysSecuMemRole">
		INSERT INTO SYS_SECU_MEM_ROLE@b2c_link
		<dynamic prepend="(">
			<isNotEmpty prepend="," property="id">
				ID
			</isNotEmpty>

			<isNotEmpty prepend="," property="memberId">
				MEMBER_ID
			</isNotEmpty>

			<isNotEmpty prepend="," property="roleCode">
				ROLE_CODE
			</isNotEmpty>

		</dynamic>		
		<dynamic prepend=") VALUES (">

			<isNotEmpty prepend="," property="id">
				#id#
			</isNotEmpty>


			<isNotEmpty prepend="," property="memberId">
				#memberId#
			</isNotEmpty>


			<isNotEmpty prepend="," property="roleCode">
				#roleCode#
			</isNotEmpty>

		 </dynamic>	)
	</insert>
	
	<update id="updateSysSecuMemRole" parameterClass="sysSecuMemRole">
		UPDATE SYS_SECU_MEM_ROLE@b2c_link
        <dynamic prepend="set">
		   <isNotEmpty prepend="," property="memberId">
              MEMBER_ID=#memberId#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="roleCode">
              ROLE_CODE=#roleCode#
           </isNotEmpty>
        </dynamic>
		WHERE 
               ID=#id#
	</update>	
	<delete id="deleteSysSecuMemRole" parameterClass="java.lang.String">
		DELETE FROM SYS_SECU_MEM_ROLE@b2c_link
		WHERE 
               ID=#id#
	</delete>	
</sqlMap>