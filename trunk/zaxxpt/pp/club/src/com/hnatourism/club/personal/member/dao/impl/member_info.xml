<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="memberInfo">
	<typeAlias alias="memberInfo" type="com.hnatourism.club.personal.member.domain.MemberInfo" />
	<resultMap id="memberInfoResultMap" class="memberInfo">
		<result column="ID" property="id" />
		<result column="CODE" property="code" />
		<result column="EMAIL" property="email" />
		<result column="PASSWORD" property="password" />
		<result column="NAME" property="name" />
		<result column="SEX" property="sex" />
		<result column="BIRTHDATE_YEAR" property="birthdateYear" />
		<result column="BIRTHDATE_MONTH" property="birthdateMonth" />
		<result column="BIRTHDATE_DAY" property="birthdateDay" />
		<result column="PHONE" property="phone" />
		<result column="MOBILE" property="mobile" />
		<result column="ADDRESS" property="address" />
		<result column="EMAIL_CHECKING" property="emailChecking" />
		<result column="MOBILE_BINDING" property="mobileBinding" />
		<result column="REGISTRATION_DATE" property="registrationDate" />
		<result column="STATUS" property="status" />
		<result column="LAST_LOGIN_TIME" property="lastLoginTime" />
		<result column="CREATE_TIME" property="createTime" />
		<result column="CREATE_USER" property="createUser" />
		<result column="UPDATE_TIME" property="updateTime" />
		<result column="UPDATE_USER" property="updateUser" />
		<result column="SOURCE" property="source" />
		<result column="ROOT_SOURCE" property="rootSource" />
		<result column="LOGIN_NUM" property="loginNum" />
		<result column="ACTIVE_STS" property="activeSts" />
		<result column="IS_FIRST" property="isFirst" />
		<result column="CROP" property="crop" />
		<result column="BLOC" property="bloc" />
		<result column="WORK_ADDR" property="workAddr" />
		<result column="EMPLOYEE_CARD" property="employeeCard" />
		<result column="CERT_TYPE" property="certType" />
		<result column="CERT_NO" property="certNo" />
	</resultMap>
	<sql id="selectMemberInfoSql">
		<![CDATA[
			SELECT T.ID,T.CODE,T.EMAIL,T.PASSWORD,T.NAME,T.SEX,T.BIRTHDATE_YEAR,T.BIRTHDATE_MONTH,T.BIRTHDATE_DAY,T.PHONE,T.MOBILE,T.ADDRESS,T.EMAIL_CHECKING,T.MOBILE_BINDING,T.REGISTRATION_DATE,T.STATUS,T.LAST_LOGIN_TIME,T.CREATE_TIME,T.CREATE_USER,T.UPDATE_TIME,T.UPDATE_USER,T.SOURCE,T.ROOT_SOURCE,T.LOGIN_NUM,T.ACTIVE_STS,T.IS_FIRST,T.CROP,T.BLOC,T.WORK_ADDR,T.EMPLOYEE_CARD ,T.CERT_TYPE,T.CERT_NO
			FROM MEMBER_INFO@b2c_link T
		]]>
	</sql>
	<select id="findMemberInfoByWhere" parameterClass="memberInfo" resultMap="memberInfoResultMap">
		<include refid="selectMemberInfoSql"/>	
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="code">
				T.CODE=#code#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="email">
				T.EMAIL=#email#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="password">
				T.PASSWORD=#password#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="name">
				T.NAME=#name#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="sex">
				T.SEX=#sex#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="birthdateYear">
				T.BIRTHDATE_YEAR=#birthdateYear#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="birthdateMonth">
				T.BIRTHDATE_MONTH=#birthdateMonth#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="birthdateDay">
				T.BIRTHDATE_DAY=#birthdateDay#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="phone">
				T.PHONE=#phone#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="mobile">
				T.MOBILE=#mobile#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="address">
				T.ADDRESS=#address#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="emailChecking">
				T.EMAIL_CHECKING=#emailChecking#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="mobileBinding">
				T.MOBILE_BINDING=#mobileBinding#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="registrationDate">
				T.REGISTRATION_DATE=#registrationDate#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="status">
				T.STATUS=#status#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="lastLoginTime">
				T.LAST_LOGIN_TIME=#lastLoginTime#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="createTime">
				T.CREATE_TIME=#createTime#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="createUser">
				T.CREATE_USER=#createUser#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="updateTime">
				T.UPDATE_TIME=#updateTime#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="updateUser">
				T.UPDATE_USER=#updateUser#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="source">
				T.SOURCE=#source#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="rootSource">
				T.ROOT_SOURCE=#rootSource#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="loginNum">
				T.LOGIN_NUM=#loginNum#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="activeSts">
				T.ACTIVE_STS=#activeSts#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="isFirst">
				T.IS_FIRST=#isFirst#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="crop">
				T.CROP=#crop#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="bloc">
				T.BLOC=#bloc#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="workAddr">
				T.WORK_ADDR=#workAddr#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="employeeCard">
				T.EMPLOYEE_CARD=#employeeCard#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="certType">
				T.CERT_TYPE=#certType#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="certNo">
				T.CERT_NO=#certNo#
			</isNotEmpty>
		</dynamic>
	</select>
	<select id="findMemberInfoById" parameterClass="java.lang.String" resultMap="memberInfoResultMap">
		<include refid="selectMemberInfoSql"/>	
		<![CDATA[
			WHERE T.ID=#id#
		]]>
	</select>
	<select id="findMemberInfoByCode" parameterClass="java.lang.String" resultMap="memberInfoResultMap">
		<include refid="selectMemberInfoSql"/>	
		<![CDATA[
			WHERE UPPER(T.Code)=UPPER(#code#)
		]]>
	</select>
	<select id="findMemberInfoByCodePw" parameterClass="java.util.HashMap" resultMap="memberInfoResultMap">
		<include refid="selectMemberInfoSql"/>
		<![CDATA[
			WHERE UPPER(T.Code)=UPPER(#code#) AND T.PASSWORD=#pw#
		]]>
	</select>
	<insert id="insertMemberInfo" parameterClass="memberInfo">
		INSERT INTO MEMBER_INFO@b2c_link
		<dynamic prepend="(">
			<isNotEmpty prepend="," property="id">
				ID
			</isNotEmpty>

			<isNotEmpty prepend="," property="code">
				CODE
			</isNotEmpty>

			<isNotEmpty prepend="," property="email">
				EMAIL
			</isNotEmpty>

			<isNotEmpty prepend="," property="password">
				PASSWORD
			</isNotEmpty>

			<isNotEmpty prepend="," property="name">
				NAME
			</isNotEmpty>

			<isNotEmpty prepend="," property="sex">
				SEX
			</isNotEmpty>

			<isNotEmpty prepend="," property="birthdateYear">
				BIRTHDATE_YEAR
			</isNotEmpty>

			<isNotEmpty prepend="," property="birthdateMonth">
				BIRTHDATE_MONTH
			</isNotEmpty>

			<isNotEmpty prepend="," property="birthdateDay">
				BIRTHDATE_DAY
			</isNotEmpty>

			<isNotEmpty prepend="," property="phone">
				PHONE
			</isNotEmpty>

			<isNotEmpty prepend="," property="mobile">
				MOBILE
			</isNotEmpty>

			<isNotEmpty prepend="," property="address">
				ADDRESS
			</isNotEmpty>

			<isNotEmpty prepend="," property="emailChecking">
				EMAIL_CHECKING
			</isNotEmpty>

			<isNotEmpty prepend="," property="mobileBinding">
				MOBILE_BINDING
			</isNotEmpty>

			<isNotEmpty prepend="," property="registrationDate">
				REGISTRATION_DATE
			</isNotEmpty>

			<isNotEmpty prepend="," property="status">
				STATUS
			</isNotEmpty>

			<isNotEmpty prepend="," property="lastLoginTime">
				LAST_LOGIN_TIME
			</isNotEmpty>

			<isNotEmpty prepend="," property="createTime">
				CREATE_TIME
			</isNotEmpty>

			<isNotEmpty prepend="," property="createUser">
				CREATE_USER
			</isNotEmpty>

			<isNotEmpty prepend="," property="updateTime">
				UPDATE_TIME
			</isNotEmpty>

			<isNotEmpty prepend="," property="updateUser">
				UPDATE_USER
			</isNotEmpty>

			<isNotEmpty prepend="," property="source">
				SOURCE
			</isNotEmpty>

			<isNotEmpty prepend="," property="rootSource">
				ROOT_SOURCE
			</isNotEmpty>

			<isNotEmpty prepend="," property="loginNum">
				LOGIN_NUM
			</isNotEmpty>

			<isNotEmpty prepend="," property="activeSts">
				ACTIVE_STS
			</isNotEmpty>

			<isNotEmpty prepend="," property="isFirst">
				IS_FIRST
			</isNotEmpty>

			<isNotEmpty prepend="," property="crop">
				CROP
			</isNotEmpty>

			<isNotEmpty prepend="," property="bloc">
				BLOC
			</isNotEmpty>

			<isNotEmpty prepend="," property="workAddr">
				WORK_ADDR
			</isNotEmpty>

			<isNotEmpty prepend="," property="employeeCard">
				EMPLOYEE_CARD
			</isNotEmpty>
			
			<isNotEmpty prepend="," property="certType">
				CERT_TYPE
			</isNotEmpty>
			
			<isNotEmpty prepend="," property="certNo">
				CERT_NO
			</isNotEmpty>

		</dynamic>		
		<dynamic prepend=") VALUES (">

			<isNotEmpty prepend="," property="id">
				#id#
			</isNotEmpty>


			<isNotEmpty prepend="," property="code">
				#code#
			</isNotEmpty>


			<isNotEmpty prepend="," property="email">
				#email#
			</isNotEmpty>


			<isNotEmpty prepend="," property="password">
				#password#
			</isNotEmpty>


			<isNotEmpty prepend="," property="name">
				#name#
			</isNotEmpty>


			<isNotEmpty prepend="," property="sex">
				#sex#
			</isNotEmpty>


			<isNotEmpty prepend="," property="birthdateYear">
				#birthdateYear#
			</isNotEmpty>


			<isNotEmpty prepend="," property="birthdateMonth">
				#birthdateMonth#
			</isNotEmpty>


			<isNotEmpty prepend="," property="birthdateDay">
				#birthdateDay#
			</isNotEmpty>


			<isNotEmpty prepend="," property="phone">
				#phone#
			</isNotEmpty>


			<isNotEmpty prepend="," property="mobile">
				#mobile#
			</isNotEmpty>


			<isNotEmpty prepend="," property="address">
				#address#
			</isNotEmpty>


			<isNotEmpty prepend="," property="emailChecking">
				#emailChecking#
			</isNotEmpty>


			<isNotEmpty prepend="," property="mobileBinding">
				#mobileBinding#
			</isNotEmpty>


			<isNotEmpty prepend="," property="registrationDate">
				#registrationDate#
			</isNotEmpty>


			<isNotEmpty prepend="," property="status">
				#status#
			</isNotEmpty>


			<isNotEmpty prepend="," property="lastLoginTime">
				#lastLoginTime#
			</isNotEmpty>


			<isNotEmpty prepend="," property="createTime">
				#createTime#
			</isNotEmpty>


			<isNotEmpty prepend="," property="createUser">
				#createUser#
			</isNotEmpty>


			<isNotEmpty prepend="," property="updateTime">
				#updateTime#
			</isNotEmpty>


			<isNotEmpty prepend="," property="updateUser">
				#updateUser#
			</isNotEmpty>


			<isNotEmpty prepend="," property="source">
				#source#
			</isNotEmpty>


			<isNotEmpty prepend="," property="rootSource">
				#rootSource#
			</isNotEmpty>


			<isNotEmpty prepend="," property="loginNum">
				#loginNum#
			</isNotEmpty>


			<isNotEmpty prepend="," property="activeSts">
				#activeSts#
			</isNotEmpty>


			<isNotEmpty prepend="," property="isFirst">
				#isFirst#
			</isNotEmpty>


			<isNotEmpty prepend="," property="crop">
				#crop#
			</isNotEmpty>


			<isNotEmpty prepend="," property="bloc">
				#bloc#
			</isNotEmpty>


			<isNotEmpty prepend="," property="workAddr">
				#workAddr#
			</isNotEmpty>


			<isNotEmpty prepend="," property="employeeCard">
				#employeeCard#
			</isNotEmpty>
			
			<isNotEmpty prepend="," property="certType">
				#certType#
			</isNotEmpty>
			
			<isNotEmpty prepend="," property="certNo">
				#certNo#
			</isNotEmpty>

		 </dynamic>	)
	</insert>
	
	<update id="updateMemberInfo" parameterClass="memberInfo">
		UPDATE MEMBER_INFO@b2c_link
        <dynamic prepend="set">
		   <isNotEmpty prepend="," property="code">
              CODE=#code#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="email">
              EMAIL=#email#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="password">
              PASSWORD=#password#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="name">
              NAME=#name#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="sex">
              SEX=#sex#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="birthdateYear">
              BIRTHDATE_YEAR=#birthdateYear#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="birthdateMonth">
              BIRTHDATE_MONTH=#birthdateMonth#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="birthdateDay">
              BIRTHDATE_DAY=#birthdateDay#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="phone">
              PHONE=#phone#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="mobile">
              MOBILE=#mobile#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="address">
              ADDRESS=#address#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="emailChecking">
              EMAIL_CHECKING=#emailChecking#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="mobileBinding">
              MOBILE_BINDING=#mobileBinding#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="registrationDate">
              REGISTRATION_DATE=#registrationDate#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="status">
              STATUS=#status#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="lastLoginTime">
              LAST_LOGIN_TIME=#lastLoginTime#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="createTime">
              CREATE_TIME=#createTime#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="createUser">
              CREATE_USER=#createUser#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="updateTime">
              UPDATE_TIME=#updateTime#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="updateUser">
              UPDATE_USER=#updateUser#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="source">
              SOURCE=#source#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="rootSource">
              ROOT_SOURCE=#rootSource#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="loginNum">
              LOGIN_NUM=#loginNum#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="activeSts">
              ACTIVE_STS=#activeSts#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="isFirst">
              IS_FIRST=#isFirst#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="crop">
              CROP=#crop#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="bloc">
              BLOC=#bloc#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="workAddr">
              WORK_ADDR=#workAddr#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="employeeCard">
              EMPLOYEE_CARD=#employeeCard#
           </isNotEmpty>
        </dynamic>
		WHERE 
               ID=#id#
	</update>	
	<delete id="deleteMemberInfo" parameterClass="java.lang.String">
		DELETE FROM MEMBER_INFO@b2c_link
		WHERE 
               ID=#id#
	</delete>	
</sqlMap>