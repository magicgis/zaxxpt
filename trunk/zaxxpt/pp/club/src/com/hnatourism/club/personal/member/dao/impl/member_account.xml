<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="memberAccount">
	<typeAlias alias="memberAccount" type="com.hnatourism.club.personal.member.domain.MemberAccount" />
	<resultMap id="memberAccountResultMap" class="memberAccount">
		<result column="ID" property="id" />
		<result column="MEMBER_ID" property="memberId" />
		<result column="ACCOUNT" property="account" />
		<result column="CREATE_TIME" property="createTime" />
		<result column="CREATE_USER" property="createUser" />
		<result column="USER_TYPE" property="userType" />
		<result column="CARD_NO" property="cardNo" />
		<result column="FEE" property="fee" />
		<result column="ROLE" property="role" />
		<result column="ORGANIZATION_ID" property="organizationId" />
		<result column="PRIVILEGE_TYPE" property="privilegeType" />
	</resultMap>
	<sql id="selectMemberAccountSql">
		<![CDATA[
			SELECT T.ID,T.MEMBER_ID,T.ACCOUNT,T.CREATE_TIME,T.CREATE_USER,T.USER_TYPE,T.CARD_NO,T.FEE,T.ROLE,T.ORGANIZATION_ID,T.PRIVILEGE_TYPE 
			FROM MEMBER_ACCOUNT T
		]]>
	</sql>
	<select id="findMemberAccountByWhere" parameterClass="memberAccount" resultMap="memberAccountResultMap">
		<include refid="selectMemberAccountSql"/>	
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="memberId">
				T.MEMBER_ID=#memberId#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="account">
				T.ACCOUNT=#account#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="createTime">
				T.CREATE_TIME=#createTime#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="createUser">
				T.CREATE_USER=#createUser#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="userType">
				T.USER_TYPE=#userType#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="cardNo">
				T.CARD_NO=#cardNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="fee">
				T.FEE=#fee#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="role">
				T.ROLE=#role#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="organizationId">
				T.ORGANIZATION_ID=#organizationId#
			</isNotEmpty>
		</dynamic>
	</select>
	<select id="findMemberAccountById" parameterClass="java.lang.String" resultMap="memberAccountResultMap">
		<include refid="selectMemberAccountSql"/>	
		<![CDATA[
			WHERE T.ID=#id#
		]]>
	</select>
	<select id="findMemberAccountByMember" parameterClass="java.lang.String" resultMap="memberAccountResultMap">
		<include refid="selectMemberAccountSql"/>	
		<![CDATA[
			WHERE T.MEMBER_ID=#memberId#
		]]>
	</select>
	<insert id="insertMemberAccount" parameterClass="memberAccount">
		INSERT INTO MEMBER_ACCOUNT
		<dynamic prepend="(">
			<isNotEmpty prepend="," property="id">
				ID
			</isNotEmpty>

			<isNotEmpty prepend="," property="memberId">
				MEMBER_ID
			</isNotEmpty>

			<isNotEmpty prepend="," property="account">
				ACCOUNT
			</isNotEmpty>

			<isNotEmpty prepend="," property="createTime">
				CREATE_TIME
			</isNotEmpty>

			<isNotEmpty prepend="," property="createUser">
				CREATE_USER
			</isNotEmpty>

			<isNotEmpty prepend="," property="userType">
				USER_TYPE
			</isNotEmpty>

			<isNotEmpty prepend="," property="cardNo">
				CARD_NO
			</isNotEmpty>

			<isNotEmpty prepend="," property="fee">
				FEE
			</isNotEmpty>

			<isNotEmpty prepend="," property="role">
				ROLE
			</isNotEmpty>

			<isNotEmpty prepend="," property="organizationId">
				ORGANIZATION_ID
			</isNotEmpty>

		</dynamic>		
		<dynamic prepend=") VALUES (">

			<isNotEmpty prepend="," property="id">
				#id#
			</isNotEmpty>


			<isNotEmpty prepend="," property="memberId">
				#memberId#
			</isNotEmpty>


			<isNotEmpty prepend="," property="account">
				#account#
			</isNotEmpty>


			<isNotEmpty prepend="," property="createTime">
				#createTime#
			</isNotEmpty>


			<isNotEmpty prepend="," property="createUser">
				#createUser#
			</isNotEmpty>


			<isNotEmpty prepend="," property="userType">
				#userType#
			</isNotEmpty>


			<isNotEmpty prepend="," property="cardNo">
				#cardNo#
			</isNotEmpty>


			<isNotEmpty prepend="," property="fee">
				#fee#
			</isNotEmpty>


			<isNotEmpty prepend="," property="role">
				#role#
			</isNotEmpty>


			<isNotEmpty prepend="," property="organizationId">
				#organizationId#
			</isNotEmpty>

		 </dynamic>	)
	</insert>
	
	<update id="updateMemberAccount" parameterClass="memberAccount">
		UPDATE MEMBER_ACCOUNT
        <dynamic prepend="set">
		   <isNotEmpty prepend="," property="memberId">
              MEMBER_ID=#memberId#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="account">
              ACCOUNT=#account#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="createTime">
              CREATE_TIME=#createTime#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="createUser">
              CREATE_USER=#createUser#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="userType">
              USER_TYPE=#userType#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="cardNo">
              CARD_NO=#cardNo#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="fee">
              FEE=#fee#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="role">
              ROLE=#role#
           </isNotEmpty>
		   <isNotEmpty prepend="," property="organizationId">
              ORGANIZATION_ID=#organizationId#
           </isNotEmpty>
        </dynamic>
		WHERE 
               ID=#id#
	</update>	
	<delete id="deleteMemberAccount" parameterClass="java.lang.String">
		DELETE FROM MEMBER_ACCOUNT
		WHERE 
               ID=#id#
	</delete>	
</sqlMap>