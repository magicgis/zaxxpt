<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="golfSite">
	<typeAlias alias="golfSiteVo" type="com.hnatourism.club.golf.prod.vo.GolfSiteVo" />
	
	<resultMap id="golfSiteResultMap" class="golfSiteVo">
		<result column="ID" property="id" />
		<result column="GOLF_ID" property="golfId" />
		<result column="PATTERN" property="pattern" />
		<result column="TYPE" property="type" />
		<result column="NUM" property="num" />
		<result column="NAME" property="name" />
		<result column="START_TIME" property="startTime" />
		<result column="END_TIME" property="endTime" />
		<result column="RMK" property="rmk" />
		<result column="EXPLAIN" property="explain" />
		<result column="CREATE_USER" property="createUser" />
		<result column="CREATE_TIME" property="createTime" />
		<result column="UPDATE_USER" property="updateUser" />
		<result column="UPDATE_TIME" property="updateTime" />
	</resultMap>
	
	<resultMap id="api_golfSiteResultMap" class="golfSiteVo">
		<result column="ID" property="id" />
		<result column="GOLF_ID" property="golfId" />
		<result column="PATTERN" property="pattern" />
		<result column="TYPE" property="type" />
		<result column="NUM" property="num" />
		<result column="NAME" property="name" />
		<result column="START_TIME" property="startTime" />
		<result column="END_TIME" property="endTime" />
		<result column="RMK" property="rmk" />
		<result column="CREATE_USER" property="createUser" />
		<result column="CREATE_TIME" property="createTime" />
		<result column="UPDATE_USER" property="updateUser" />
		<result column="UPDATE_TIME" property="updateTime" />
		<result property="golfInfoVo"   column="GOLF_ID"  select="api_findGolfInfoById" />
		<result property="golfPriceVo"   column="ID"  select="api_findSitePriceBySite" />
		<result property="golfHPriceVo"   column="ID"  select="api_findSiteHPriceBySite" />
		<result property="maintainList"   column="ID"  select="api_findGolftimeMaintainBySite" />
		<result property="sysConst"   column="TYPE"  select="api_findsysConstant_golftype" />
		<result property="patternVo"   column="PATTERN"  select="api_findsysConstant_golfSiteMode" />
		<result property="pricelist"   column="ID"  select="api_findSitePriceBySite_book" />
		<result column="EXPLAIN" property="explain" />
	</resultMap>
	<resultMap id="api_golfSiteResultMap_search" class="golfSiteVo">
		<result column="ID" property="id" />
		<result column="GOLF_ID" property="golfId" />
		<result column="TYPE" property="type" />
		<result column="NAME" property="name" />
		<result column="RMK" property="rmk" />
		<result column="EXPLAIN" property="explain" />
		<result property="sysConst"   column="TYPE"  select="api_findsysConstant_golftype" />
		<result property="pricelist"   column="ID"  select="api_findSitePriceBySite_book" />
	</resultMap>
	<resultMap id="api_golfSiteResultMap_golftype" class="golfSiteVo">
		<result column="GOLF_ID" property="golfId" />
	</resultMap>
	
	<parameterMap class="java.util.HashMap" id="parameterMap">   
      <parameter property="id"/>
    </parameterMap> 
	<sql id="api_selectGolfSiteSql">
		<![CDATA[
			SELECT T.EXPLAIN,T.ID,T.GOLF_ID,T.PATTERN,T.TYPE,T.NUM,T.NAME,T.START_TIME,T.END_TIME,T.RMK,T.CREATE_USER,T.CREATE_TIME,T.UPDATE_USER,T.UPDATE_TIME 
			FROM GOLF_SITE T
		]]>
	</sql>
	<sql id="api_selectGolfSiteSql_golftype">
		<![CDATA[
			SELECT DISTINCT T.GOLF_ID 
			FROM GOLF_SITE T
		]]>
	</sql>
	
	<select id="api_findSiteById_order" parameterClass="java.lang.String" resultMap="golfSiteResultMap">
		<include refid="api_selectGolfSiteSql"/>	
		<![CDATA[
			WHERE T.ID=#id#
		]]>
	</select>
	
	<select id="api_findSiteById" parameterClass="java.lang.String" resultMap="api_golfSiteResultMap">
		<include refid="api_selectGolfSiteSql"/>	
		<![CDATA[
			WHERE T.ID=#id#
		]]>
	</select>
	
	<select id="api_findGolfSiteById" parameterMap="parameterMap" resultMap="api_golfSiteResultMap">
		<include refid="api_selectGolfSiteSql"/>	
		<![CDATA[
			WHERE T.ID=?
		]]>
	</select>
	
	<select id="api_findGolfSiteById_golftype" parameterMap="parameterMap" resultMap="api_golfSiteResultMap_golftype">
		<include refid="api_selectGolfSiteSql_golftype"/>	
		<![CDATA[
			WHERE T.TYPE=?
		]]>
	</select>
	
	<select id="api_findGolfSiteByGolf_search" parameterClass="java.lang.String" resultMap="api_golfSiteResultMap_search">
		<include refid="api_selectGolfSiteSql"/>	
		<![CDATA[
			WHERE T.GOLF_ID=#id#
		]]>
	</select>
		
</sqlMap>